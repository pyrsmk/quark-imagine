!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.imagine=n()}}(function(){return function n(e,t,r){function i(u,f){if(!t[u]){if(!e[u]){var c="function"==typeof require&&require;if(!f&&c)return c(u,!0);if(o)return o(u,!0);var a=new Error("Cannot find module '"+u+"'");throw a.code="MODULE_NOT_FOUND",a}var s=t[u]={exports:{}};e[u][0].call(s.exports,function(n){var t=e[u][1][n];return i(t?t:n)},s,s.exports,n,e,t,r)}return t[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(n,e,t){function r(){s=!1,f.length?a=f.concat(a):l=-1,a.length&&i()}function i(){if(!s){var n=setTimeout(r);s=!0;for(var e=a.length;e;){for(f=a,a=[];++l<e;)f&&f[l].run();l=-1,e=a.length}f=null,s=!1,clearTimeout(n)}}function o(n,e){this.fun=n,this.array=e}function u(){}var f,c=e.exports={},a=[],s=!1,l=-1;c.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];a.push(new o(n,e)),1!==a.length||s||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=u,c.addListener=u,c.once=u,c.off=u,c.removeListener=u,c.removeAllListeners=u,c.emit=u,c.binding=function(n){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(n){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],2:[function(n,e,t){(function(n){!function(e){function t(n){return"function"==typeof n}function r(n){return"object"==typeof n}function i(e){"undefined"!=typeof setImmediate?setImmediate(e):"undefined"!=typeof n&&n.nextTick?n.nextTick(e):setTimeout(e,0)}var o;e[0][e[1]]=function u(n){var e,f=[],c=[],a=function(n,t){return null==e&&null!=n&&(e=n,f=t,c.length&&i(function(){for(var n=0;n<c.length;n++)c[n]()})),e};return a.then=function(a,s){var l=u(n),d=function(){function n(e){var i,u=0;try{if(e&&(r(e)||t(e))&&t(i=e.then)){if(e===l)throw new TypeError;i.call(e,function(){u++||n.apply(o,arguments)},function(n){u++||l(!1,[n])})}else l(!0,arguments)}catch(f){u++||l(!1,[f])}}try{var i=e?a:s;t(i)?n(i.apply(o,f||[])):l(e,f)}catch(u){l(!1,[u])}};return null!=e?i(d):c.push(d),l},n&&(a=n(a)),a}}("undefined"==typeof e?[window,"pinkySwear"]:[e,"exports"])}).call(this,n("_process"))},{_process:1}],imagine:[function(n,e,t){e.exports=function(e){var t,r=n("pinkyswear")(function(n){return n["catch"]=function(e){return n.then(null,e)},n}),i=function(n){for(var t=[],r=0,i=e.length;i>r;++r)e[r].imagine==n&&t.push(e[r]);return t},o=function(){for(var n=0,t=e.length;t>n;++n)if(!("imagine"in e[n]))return!0;return!1},u=function(n){"undefined"==typeof n.imagine&&(n.imagine="loaded"),o()||(i("failed").length?r(!1,[i("failed")]):r(!0,[i("loaded")]))},f=function(n){return function(e){n.imagine="failed",o()||r(!1,[i("failed")])}},c=function(n,e){var t=setInterval(function(){n.complete&&n.width&&(clearInterval(t),u(e))},100)};"object"==typeof e&&"length"in e||(e=[e]);var a,s,l;for(a=0,s=e.length;s>a;++a)"string"==typeof e[a]&&(l=e[a],e[a]=document.createElement("img"),e[a].src=l);for(a=0,s=e.length;s>a;++a)t=new Image,t.onerror=f(e[a]),t.src=e[a].src,c(t,e[a]);return r}},{pinkyswear:2}]},{},[2])("imagine")}),quark.$._nodeMethods.load=function(n,e){return"IMG"==this.node.nodeName&&imagine(this.node).then(n,e),this};